<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart</title>

<!------ Google Fonts ------>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500&family=Karla:wght@200;300;400;500&family=Montserrat+Alternates:ital,wght@0,300;0,400;1,300;1,400&family=Montserrat:wght@300;400;500&family=Open+Sans:ital,wght@0,300;0,400;1,300;1,400&display=swap" rel="stylesheet">

<!-- Bootstrap CSS-->	
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

<!--External JS-->
<script src="script.js" async></script>

</head>

<!----External CSS----->
<style>
  body{
    box-sizing: border-box;
    margin: 0;
    padding: 0;     
}

.navbar{
  font-family: 'Montserrat Alternates', sans-serif;
}

#category{
  padding: 5% 6%;
}
#product-cards{
  padding: 5% 10%;
}

#footer{
 margin-bottom: 2%;
 margin-top: 2%;
  
}
.filter-btns{
  text-align: center;
}
.filter-btn{
  background: none;
  cursor: pointer;
  border: none;
  font-family: inherit;
  text-transform: uppercase;
  display: inline-block;
  margin: 10px 30px;
  font-size: 16px;
  color: #d3d3d3;
  font-weight: 600;
  letter-spacing: 2px;
  position: relative;
  -webkit-transition: all 0.2s ease-in-out;
  -o-transition: all 0.2s ease-in-out;
  transition: all 0.2s ease-in-out;
}
.filter-btn::after{
  content: "";
  position: absolute;
  top: 110%;
  left: 50%;
  -webkit-transform: translateX(-50%);
      -ms-transform: translateX(-50%);
          transform: translateX(-50%);
  height: 2px;
  width: 0;
  background-color: #555;
  -webkit-transition: all 0.2s ease-in-out;
  -o-transition: all 0.2s ease-in-out;
  transition: all 0.2s ease-in-out
}
.filter-btn:hover{
  color: #555;
}
.filter-btn:hover::after{
  width: 100%;
}
/* active button */
.active-btn{
  color: #555;
}
.active-btn::after{
  width: 100%;
}

.canvas-title{
  text-align: center;
}
/*     Shopping Cart     */

 .btn-purchase{
   text-align: center;
   margin: auto;
   padding: 2%;
   width: 50%;
 }

 #shopping-cart{
   padding: 5% 5%;
 }

 .cart-total{
   text-align: right;
   font-size: 1.3rem;
 }

.up-icon{
   color: black;
   position: fixed;
   float: right;
   z-index: 1;
   left: 95%;
   top: 85%;
   font-size: 2rem;
 }

</style>


<!-----FontAwsome------>
<script src="https://kit.fontawesome.com/9d9796826b.js" crossorigin="anonymous"></script>

<body>
<!---- Bootstrap Script---->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>

<!--Heading-->
<div>
<!-- Item Categories-->
<a href="#category" class="up-icon"><i class="fa-solid fa-circle-chevron-up"></i></a>
<!--Filter Button-->
<div class = "filter-btns">
  <a href="home.html"><button type="button" class="filter-btn" id="refresh"><i class="fa-solid fa-rotate" ></i> Refresh</button></a>
   
  <button type = "button" class = "filter-btn" id = "all">all</button>
  <button type = "button" class = "filter-btn" id = "Vegetarian">Vegetarian</button>
  <button type = "button" class = "filter-btn" id = "Non-veg">non-veg</button>
  <button type = "button" class = "filter-btn" id = "Italian">Italian</button>
  <button type = "button" class = "filter-btn" id = "Mexican">Mexican</button>
</div>


<!--Product Cards-->
<section id="product-cards">
  <div class="container-fluid">
    <div class="row row-cols-2 row-cols-md-4 g-4">
      <div class=" col filter-item all Vegetarian" id="1">
        <div class="card h-100">
          <img src="https://topintownpizza.ca/wp-content/uploads/2023/03/vegCheeseBurstPizza.jpg" class="card-img-top shop-item-image" alt="...">
          <div class="card-body">
            <h5 class="card-title shop-item-title">Paneer Pizza</h5>
            <p class="card-text shop-item-price"> Rs 250.00</p>
            <button type="button" style="width: 100%;" class="btn btn-warning mt-auto shop-item-button"><i class="fa-solid fa-cart-shopping " style="margin-right: 4%;"></i>Add To Cart</button>
          </div>
        </div>
      </div>

      <div class=" col filter-item all Vegetarian" id="2">
        <div class="card h-100">
          <img src="https://www.modernfoods.co.in/wp-content/uploads/2018/06/360pizza.png" class="card-img-top shop-item-image" alt="...">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title shop-item-title">Margherita Pizza</h5>
            <p class="card-text shop-item-price"> Rs 245.00</p>
            <button type="button" style="width: 100%;" class="btn btn-warning mt-auto shop-item-button"><i class="fa-solid fa-cart-shopping " style="margin-right: 4%;"></i>Add To Cart</button>
          </div>
        </div>
      </div>

      <div class=" col filter-item all Vegetarian" id="3">
        <div class="card h-100">
          <img src="https://w0.peakpx.com/wallpaper/985/474/HD-wallpaper-pizza-delicious-food-mushrooms-olives.jpg" class="card-img-top shop-item-image" alt="...">
          <div class="card-body">
            <h5 class="card-title shop-item-title">Mushroom Pizza </h5>
            <p class="card-text shop-item-price"> Rs 220.00</p>
            <button type="button" style="width: 100%;" class="btn btn-warning mt-auto shop-item-button"><i class="fa-solid fa-cart-shopping " style="margin-right: 4%;"></i>Add To Cart</button>
          </div>
        </div>
      </div>

      <div class=" col filter-item all Vegetarian" id="4">
        <div class="card h-100">
          <img src="https://c0.wallpaperflare.com/preview/452/689/95/pizza-delicious-food-nutrition.jpg" class="card-img-top shop-item-image " alt="...">
          <div class="card-body">
            <h5 class="card-title shop-item-title">Babycorn Pizza</h5>
            <p class="card-text shop-item-price"> Rs 140.00</p>
            <button type="button" style="width: 100%;" class="btn btn-warning mt-auto shop-item-button"><i class="fa-solid fa-cart-shopping " style="margin-right: 4%;"></i>Add To Cart</button>
          </div>
        </div>
      </div>

      <div class=" col filter-item all Non-veg " id="5">
        <div class="card h-100">
          <img src="https://e0.pxfuel.com/wallpapers/130/939/desktop-wallpaper-pizza-rolls-pepperoni-pizza.jpg" class="card-img-top shop-item-image" alt="...">
          <div class="card-body">
            <h5 class="card-title shop-item-title">Pepperoni<h5>
            <p class="card-text shop-item-price"> Rs 280.00</p>
            <button type="button" style="width: 100%;" class="btn btn-warning mt-auto shop-item-button"><i class="fa-solid fa-cart-shopping " style="margin-right: 4%;"></i>Add To Cart</button>
          </div>
        </div>
      </div>

      <div class=" col filter-item all Non-veg" id="6">
        <div class="card h-100">
          <img src="https://img.freepik.com/free-photo/freshly-baked-pizza-rustic-wooden-table-generated-by-ai_24640-80691.jpg" class="card-img-top shop-item-image" alt="...">
          <div class="card-body">
            <h5 class="card-title shop-item-title">Spicy Chicken</h5>
            <p class="card-text shop-item-price">Rs 300.00</p>
            <button type="button" style="width: 100%;" class="btn btn-warning mt-auto shop-item-button"><i class="fa-solid fa-cart-shopping " style="margin-right: 4%;"></i>Add To Cart</button>
          </div>
        </div>
      </div>
      
      <div class=" col filter-item all Non-veg" id="7">
        <div class="card h-100">
          <img src="https://images6.alphacoders.com/698/698287.jpg" class="card-img-top shop-item-image" alt="...">
          <div class="card-body">
            <h5 class="card-title shop-item-title">Hawaiian</h5>
            <p class="card-text shop-item-price">Rs 235.00</p>
            <button type="button" style="width: 100%;" class="btn btn-warning mt-auto shop-item-button"><i class="fa-solid fa-cart-shopping " style="margin-right: 4%;"></i>Add To Cart</button>
          </div>
        </div>
      </div>

      <div class=" col filter-item all Non-veg" id="8">
        <div class="card h-100">
          <img src="https://t4.ftcdn.net/jpg/05/57/34/55/360_F_557345513_XrJGwC2V6ZgRu3bnzIWHsIagKWxFoX2R.jpg" class="card-img-top shop-item-image" alt="...">
          <div class="card-body">
            <h5 class="card-title shop-item-title">Sausage</h5>
            <p class="card-text shop-item-price">Rs 215.00</p>
            <button type="button" style="width: 100%;" class="btn btn-warning mt-auto shop-item-button"><i class="fa-solid fa-cart-shopping " style="margin-right: 4%;"></i>Add To Cart</button>
          </div>
        </div>
      </div>

      <div class=" col filter-item all Italian" id="9">
        <div class="card h-100">
          <img src="https://img.freepik.com/premium-photo/four-cheese-quattro-formaggi-pizza-dark-wooden-background_908985-30408.jpg" class="card-img-top shop-item-image" alt="...">
          <div class="card-body">
            <h5 class="card-title shop-item-title">Quattro Formaggi</h5>
            <p class="card-text shop-item-price">Rs 450.00</p>
            <button type="button" style="width: 100%;" class="btn btn-warning mt-auto shop-item-button"><i class="fa-solid fa-cart-shopping " style="margin-right: 4%;"></i>Add To Cart</button>
          </div>
        </div>
      </div>

      <div class=" col filter-item all Italian" id="10">
        <div class="card h-100">
          <img src="https://as2.ftcdn.net/v2/jpg/05/82/55/25/1000_F_582552585_Bf8LdWLCnBio04soT5biRVVXqFSfRH3z.jpg" class="card-img-top shop-item-image" alt="...">
          <div class="card-body">
            <h5 class="card-title shop-item-title">Capricciosa</h5>
            <p class="card-text shop-item-price">Rs 415.00</p>
            <button type="button" style="width: 100%;" class="btn btn-warning mt-auto shop-item-button"><i class="fa-solid fa-cart-shopping " style="margin-right: 4%;"></i>Add To Cart</button>
          </div>
        </div>
      </div>

      <div class=" col filter-item all Italian" id="11">
        <div class="card h-100">
          <img src="https://img.kidspot.com.au/gudejqR_/kk/2016/09/2374-503569-1.jpg" class="card-img-top shop-item-image" alt="...">
          <div class="card-body">
            <h5 class="card-title shop-item-title">Nutella</h5>
            <p class="card-text shop-item-price">Rs 250.00</p>
            <button type="button" style="width: 100%;" class="btn btn-warning mt-auto shop-item-button"><i class="fa-solid fa-cart-shopping " style="margin-right: 4%;"></i>Add To Cart</button>
          </div>
        </div>
      </div>

      <div class=" col filter-item all Italian" id="12">
        <div class="card h-100">
          <img src="https://t4.ftcdn.net/jpg/02/99/87/65/360_F_299876583_8HsxAT0uJO6Dx6TmoyhzzYEBGgfABQT9.jpg" class="card-img-top shop-item-image" alt="...">
          <div class="card-body">
            <h5 class="card-title shop-item-title">Calzone</h5>
            <p class="card-text shop-item-price">Rs 500.00</p>
            <button type="button" style="width: 100%;" class="btn btn-warning mt-auto shop-item-button"><i class="fa-solid fa-cart-shopping " style="margin-right: 4%;"></i>Add To Cart</button>
          </div>
        </div>
      </div>

      <div class=" col filter-item all Mexican" id="13">
        <div class="card h-100">
          <img src="https://t3.ftcdn.net/jpg/06/47/11/54/360_F_647115431_T3wBaPo5AodgGjPGEFyPeYpYCy6GPck3.jpg" class="card-img-top shop-item-image" alt="...">
          <div class="card-body">
            <h5 class="card-title shop-item-title">Spicy Mexican Pizza</h5>
            <p class="card-text shop-item-price">Rs 318.00</p>
            <button type="button" style="width: 100%;" class="btn btn-warning mt-auto shop-item-button"><i class="fa-solid fa-cart-shopping " style="margin-right: 4%;"></i>Add To Cart</button>
          </div>
        </div>
      </div>

      <div class=" col filter-item all Mexican" id="14">
        <div class="card h-100">
          <img src="https://i.pinimg.com/736x/fc/e2/78/fce2787530b49c494b5cf41ce01a98ce.jpg" class="card-img-top shop-item-image" alt="...">
          <div class="card-body">
            <h5 class="card-title shop-item-title">Tex-Mex</h5>
            <p class="card-text shop-item-price">Rs 160.00</p>
            <button type="button" style="width: 100%;" class="btn btn-warning mt-auto shop-item-button"><i class="fa-solid fa-cart-shopping  " style="margin-right: 4%;"></i>Add To Cart</button>
          </div>
        </div>
      </div>

      <div class=" col filter-item all Mexican" id="15">
        <div class="card h-100">
          <img src="https://st2.depositphotos.com/35089956/46222/i/450/depositphotos_462224484-stock-photo-mexican-pizza-meat-jalapeno.jpg" class="card-img-top shop-item-image" alt="...">
          <div class="card-body">
            <h5 class="card-title shop-item-title">Veggie Mexicann</h5>
            <p class="card-text shop-item-price">Rs 239.00</p>
            <button type="button" style="width: 100%;" class="btn btn-warning mt-auto shop-item-button"><i class="fa-solid fa-cart-shopping " style="margin-right: 4%;"></i>Add To Cart</button>
          </div>
        </div>
      </div>

      <div class=" col filter-item all Mexican" id="16">
        <div class="card h-100">
          <img src="https://thumbs.dreamstime.com/b/seafood-pizza-mozzarella-various-tomato-black-olives-shellfish-51853299.jpg" class="card-img-top shop-item-image" alt="...">
          <div class="card-body">
            <h5 class="card-title shop-item-title">SeaFood</h5>
            <p class="card-text shop-item-price">Rs 295.00</p>
            <button type="button" style="width: 100%;" class="btn btn-warning mt-auto shop-item-button"><i class="fa-solid fa-cart-shopping " style="margin-right: 4%;"></i>Add To Cart</button>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>

<!--Shopping Cart-->
<section class="container content-section" id="shopping-cart">
  
  <h3 style="text-decoration: underline;text-align: center; margin-bottom: 7%;">Shopping Cart</h3>
 
 <table class="table table-hover table-cart">
  <thead>
    <tr>
      <th>Item</th>
      <th>Price</th>
      <th>Quantity</th>
    </tr>
  </thead>
  <tbody class="cart-items">
    
     
  </tbody>
</table>

    <div class="cart-total"> 
      <strong class="cart-total-title">Total</strong>
      <span  class="cart-total-price" style="text-align: right;">$0</span>
    </div>
 

    <div class="btn-purchase" style="margin-top: 10%;">
      <button type="button"  class="btn btn-dark btn-purchase " onclick="purchaseClicked"><i class="fa-solid fa-cart-shopping " style="margin-right: 6%;"></i>PURCHASE</button>
    </div>

</section>
 
<!--Footer-->
<section id="footer">
  <div class="card text-center">
   
    <div class="card-body">
      <h3 class="card-title"><i class="fa-solid fa-gift" style="margin-right: 1%;"></i>Glamour</h3>
      <p>Thank You , Come Again !!!</p>
    </div>
    <div class="card-footer text-muted">
       <p></p>
       <p></p>
    </div>
  </div>
</section>


 

<!--External JS-->
<script >

  /* Image Filter Section */

const allFilterItems = document.querySelectorAll('.filter-item');
const allFilterBtns = document.querySelectorAll('.filter-btn');

window.addEventListener('DOMContentLoaded', () => {
    allFilterBtns[1].classList.add('active-btn');
});

allFilterBtns.forEach((btn) => {
    btn.addEventListener('click', () => {
        showFilteredContent(btn);
    });
});

function showFilteredContent(btn){
    allFilterItems.forEach((item) => {
        if(item.classList.contains(btn.id)){
            resetActiveBtn();
            btn.classList.add('active-btn');
            item.style.display = "block";
        } else {
            item.style.display = "none";
        }
    });
}

function resetActiveBtn(){
    allFilterBtns.forEach((btn) => {
        btn.classList.remove('active-btn');
    });
}


/* Shopping Cart Section */
if (document.readyState == 'loading'){
    document.addEventListener('DOMContentLoaded' , ready);
}

else{
    ready();
}


 function ready(){
    var removeCartItemButton = document.getElementsByClassName('btn-danger');
    for (var i = 0 ; i < removeCartItemButton.length; i++){
        var button = removeCartItemButton[i];
        button.addEventListener('click', removeCartItem)
    }

    var quantityInputs = document.getElementsByClassName('cart-quantity-input');
    for(var i = 0 ;i < quantityInputs.length ; i++){
        var input = quantityInputs[i];
        input.addEventListener('change', quantityChanged);
    }
    
    var addToCartButtons = document.getElementsByClassName('shop-item-button');
    for(var i = 0; i< addToCartButtons.length; i++){
        var button = addToCartButtons[i];
        button.addEventListener('click',addToCartClicked)
    }

    document.getElementsByClassName('btn-purchase')[0].addEventListener('click', purchaseClicked)
 }


 /*function purchaseClicked(){
     alert('Thank you for your purchase!!!');
     var cartItems = document.getElementsByClassName('cart-items')[0];
     while(cartItems.hasChildNodes()){
         cartItems.removeChild(cartItems.firstChild)
     }
     updateCartTotal();
 }*/


// Modify the purchaseClicked function
function purchaseClicked() {
    var cartItems = document.getElementsByClassName('cart-items')[0];
    var items = cartItems.getElementsByClassName('cart-row');
    
    // Create an array to store the items
    var itemList = [];

    // Iterate over each item in the cart
    for (var i = 0; i < items.length; i++) {
        var item = items[i];
        var title = item.getElementsByClassName('cart-item-title')[0].innerText;
        var price = item.getElementsByClassName('cart-price')[0].innerText;
        var quantity = item.getElementsByClassName('cart-quantity-input')[0].value;

        // Add the item to the list
        itemList.push({ title: title, price: price, quantity: quantity });
    }

    // Store the item list in localStorage (you can use other methods for storage)
    localStorage.setItem('cartItems', JSON.stringify(itemList));

    // Redirect the user to the My Order page
    window.location.href = 'myorder.html';
}

// Code to display cart items on My Order page
// Retrieve stored cart items from localStorage
var storedItems = localStorage.getItem('cartItems');
if (storedItems) {
    var cartItems = JSON.parse(storedItems);

    // Access the container where you want to display the items
    var orderContainer = document.getElementById('order-container');

    // Iterate over the stored items and dynamically generate HTML to display them
    cartItems.forEach(function(item) {
        var itemHTML = `
            <div class="order-item">
                <h4>${item.title}</h4>
                <p>Price: ${item.price}</p>
                <p>Quantity: ${item.quantity}</p>
            </div>
        `;
        orderContainer.innerHTML += itemHTML;
    });
}



 <!-- "Purchase" button click event -->
/*function purchaseClicked(){
    var cartItems = document.getElementsByClassName('cart-items')[0];
    var items = cartItems.getElementsByClassName('cart-row');
    
    // Create an array to store the items
    var itemList = [];

    // Iterate over each item in the cart
    for (var i = 0; i < items.length; i++) {
        var item = items[i];
        var title = item.getElementsByClassName('cart-item-title')[0].innerText;
        var price = item.getElementsByClassName('cart-price')[0].innerText;
        var quantity = item.getElementsByClassName('cart-quantity-input')[0].value;

        // Add the item to the list
        itemList.push({ title: title, price: price, quantity: quantity });
    }

    // Store the item list in localStorage (you can use other methods for storage)
    localStorage.setItem('cartItems', JSON.stringify(itemList));

    // Redirect the user to the My Order page
    window.location.href = 'h.html';
}

// Code to display cart items on My Order page
// Retrieve stored cart items from localStorage
var storedItems = localStorage.getItem('cartItems');
if (storedItems) {
    var cartItems = JSON.parse(storedItems);

    // Access the container where you want to display the items
    var orderContainer = document.getElementById('order-container');

    // Iterate over the stored items and dynamically generate HTML to display them
    cartItems.forEach(function(item) {
    // Calculate the total amount for the item
    var totalAmount = parseFloat(item.price.replace('Rs ', '')) * parseInt(item.quantity);

    // Create HTML for the item including total amount
    var itemHTML = `
        <div class="order-item">
            <h4>${item.title}</h4>
            <p>Price: ${item.price}</p>
            <p>Quantity: ${item.quantity}</p>
            <p>Total Amount: Rs ${totalAmount.toFixed(2)}</p>
        </div>
    `;
    orderContainer.innerHTML += itemHTML;
});
}
*/

function removeCartItem(event){
    var buttonClicked = event.target;
    buttonClicked.parentElement.parentElement.remove();
    updateCartTotal();
    
}

function  quantityChanged(event){
    var input = event.target;
    if(isNaN(input.value) || input.value <= 0 ){
        input.value = 1;
    }
    updateCartTotal();
}


function addToCartClicked(event){
    var button = event.target;
    var shopItem = button.parentElement.parentElement;
    var title = shopItem.getElementsByClassName('shop-item-title')[0].innerText;
    var price = shopItem.getElementsByClassName('shop-item-price')[0].innerText;
    var imageSrc = shopItem.getElementsByClassName('shop-item-image')[0].src;
    addItemToCart(title,price,imageSrc);
    updateCartTotal();
}

function addItemToCart(title, price, imageSrc){
    var cartRow = document.createElement('tr');
    cartRow.classList.add('cart-row');
    var cartItems = document.getElementsByClassName('cart-items')[0];
    var cartItemNames = cartItems.getElementsByClassName('cart-item-title');

    for (i = 0; i< cartItemNames.length ; i++){
        if(cartItemNames[i].innerText == title){
            alert('This item already has added to the cart!');
            return
        }
    }
    var cartRowContents = `

        <td class="cart-item cart-column">
            <img class="cart-item-image" src="${imageSrc}" width="50" height="50">
            <span class="cart-item-title">${title}</span>                  
        </td>
        <td class="cart-item cart-column">
            <span class="cart-price cart-column">${price}</span>
        </td>
        <td class="cart-item cart-column">
            <input class="cart-quantity-input" type="number" value="1" style="width: 50px">
            <button class="btn btn-danger" type="button">Remove</button>
        </td>        
    `;
     
            
    cartRow.innerHTML = cartRowContents;
    cartItems.append(cartRow);
    cartRow.getElementsByClassName('btn-danger')[0].addEventListener('click', removeCartItem);
    cartRow.getElementsByClassName('cart-quantity-input')[0].addEventListener('change', quantityChanged)
}


function updateCartTotal(){
    var cartItemContainer = document.getElementsByClassName('cart-items')[0];
    var cartRows = cartItemContainer.getElementsByClassName('cart-row');
    var total = 0;
    for (var i = 0 ; i< cartRows.length ; i++){
        var cartRow =cartRows[i];
        var priceElement = cartRow.getElementsByClassName('cart-price')[0];
        var quantityElement = cartRow.getElementsByClassName('cart-quantity-input')[0];
        var price = parseFloat(priceElement.innerText.replace('Rs ' , ''))
        var quantity = quantityElement.value;
        total = total + (price * quantity);
         
    }
    total = Math.round(total * 100 )/100;
    document.getElementsByClassName('cart-total-price')[0].innerText = 'Rs '+ total + '.00';
 
}



</script>

</body>
</html>